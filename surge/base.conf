#!MANAGED-CONFIG https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/base.conf interval=86400 strict=false


[General]
loglevel = warning
internet-test-url = http://1.1.1.1/
proxy-test-url = http://1.1.1.1/
proxy-test-udp = one.one.one.one@1.1.1.1
dns-server = 223.6.6.6, 119.29.29.29, [2400:3200::1], [2402:4e00::]
encrypted-dns-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query

[Proxy Group]
Default = select, DIRECT, REJECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
System = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
Stream = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
R-CN = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
R-JP = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
R-TW = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
R-US = select, Default, DIRECT, Node, CN, DE, FR, GB, HK, JP, KR, SG, TW, US, Node0, Node1, Node2, Node3, NodeX, NodeA, NodeB, NodeC
Node = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="^"
CN = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:CH?N|China|Shanghai)(?![A-Za-z])|中國|中国|中(?![\u4E00-\u9FFF])"
DE = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:DEU?|Deutsch|Germany?|Berlin)(?![A-Za-z])|德國|德国|德(?![\u4E00-\u9FFF])"
FR = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:FRA?|France|French|Paris)(?![A-Za-z])|法國|法国|法(?![\u4E00-\u9FFF])"
GB = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z\d]|\d\s)(?:GBR?|Britain|British|UK|United\s?Kingdom|London)(?![A-Za-z])|英國|英国|英(?![\u4E00-\u9FFF])"
HK = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:HKG?|Hong\s?Kong)(?![A-Za-z])|香港|港(?![\u4E00-\u9FFF])"
JP = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:JPN?|Japan|Japanese|Tokyo|Osaka)(?![A-Za-z])|日本國?|(?<!尼)日(?![\u4E00-\u9FFF])"
KR = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:KO?R|Korean?|Seoul)(?![A-Za-z])|韓國|韩国|韩(?![\u4E00-\u9FFF])"
SG = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:SGP?|Singapore)(?![A-Za-z])|新加坡|獅城|狮城|新(?![\u4E00-\u9FFF])"
TW = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:TWN?|Taiwan|Taiwanese|Taipei)(?![A-Za-z])|台灣|台湾|台(?![\u4E00-\u9FFF])"
US = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="(?<![A-Za-z])(?:USA?|United\s?States|American?|LA)(?![A-Za-z])|美國|美国|美(?![\u4E00-\u9FFF])"
Node0 = select, include-all-proxies=true, policy-regex-filter="^"
Node1 = select, include-all-proxies=true, policy-regex-filter="^"
Node2 = select, include-all-proxies=true, policy-regex-filter="^"
Node3 = select, include-all-proxies=true, policy-regex-filter="^"
NodeX = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="^(?!.*\[.\])"
NodeA = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="\[A\]"
NodeB = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="\[B\]"
NodeC = smart, policy-priority="\[B\]:8;", include-all-proxies=true, policy-regex-filter="\[C\]"

[Rule]
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+local.txt, DIRECT, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+system.txt, System, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+stream.txt, Stream, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+cn.txt, R-CN, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+jp.txt, R-JP, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+tw.txt, R-TW, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+us.txt, R-US, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-dn+world.txt, Default, no-resolve
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-ip+local.txt, DIRECT
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-ip+cn.txt, R-CN
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-ip+jp.txt, R-JP
RULE-SET, https://cdn.jsdelivr.net/gh/xszo/etc@etc/surge/filter-ip+tw.txt, R-TW
FINAL, Default, dns-failed
